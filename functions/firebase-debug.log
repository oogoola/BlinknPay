[debug] [2025-10-14T09:07:53.386Z] ----------------------------------------------------------------------
[debug] [2025-10-14T09:07:53.390Z] Command:       /Users/macbookair/.nvm/versions/node/v14.21.3/bin/node /Users/macbookair/.nvm/versions/node/v14.21.3/bin/firebase serve --only functions
[debug] [2025-10-14T09:07:53.390Z] CLI Version:   11.23.0
[debug] [2025-10-14T09:07:53.390Z] Platform:      darwin
[debug] [2025-10-14T09:07:53.391Z] Node Version:  v14.21.3
[debug] [2025-10-14T09:07:53.392Z] Time:          Tue Oct 14 2025 12:07:53 GMT+0300 (East Africa Time)
[debug] [2025-10-14T09:07:53.393Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-10-14T09:07:53.518Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-10-14T09:07:53.519Z] > authorizing via signed-in user (erickogola4@gmail.com)
[debug] [2025-10-14T09:07:53.519Z] [iam] checking project myboom-ffef4 for permissions ["firebase.projects.get"]
[debug] [2025-10-14T09:07:53.521Z] > refreshing access token with scopes: []
[debug] [2025-10-14T09:07:53.524Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-10-14T09:07:53.524Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-10-14T09:07:53.947Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-10-14T09:07:53.948Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-10-14T09:07:53.984Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/myboom-ffef4:testIamPermissions [none]
[debug] [2025-10-14T09:07:53.984Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/myboom-ffef4:testIamPermissions x-goog-quota-user=projects/myboom-ffef4
[debug] [2025-10-14T09:07:53.985Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/myboom-ffef4:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2025-10-14T09:07:55.525Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/myboom-ffef4:testIamPermissions 200
[debug] [2025-10-14T09:07:55.525Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/myboom-ffef4:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2025-10-14T09:07:55.528Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/myboom-ffef4 [none]
[debug] [2025-10-14T09:07:56.242Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/myboom-ffef4 200
[debug] [2025-10-14T09:07:56.242Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/myboom-ffef4 {"projectId":"myboom-ffef4","projectNumber":"256602790271","displayName":"myboom","name":"projects/myboom-ffef4","resources":{"hostingSite":"myboom-ffef4"},"state":"ACTIVE","etag":"1_72355b15-2464-4290-8bcf-f9cf85ec41b8"}
[debug] [2025-10-14T09:07:56.246Z] defaultcredentials: writing to file /Users/macbookair/.config/firebase/erickogola4_gmail_com_application_default_credentials.json
[debug] [2025-10-14T09:07:56.250Z] Setting GAC to /Users/macbookair/.config/firebase/erickogola4_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/macbookair/.config/firebase/erickogola4_gmail_com_application_default_credentials.json"}}
[debug] [2025-10-14T09:07:56.251Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/myboom-ffef4/adminSdkConfig [none]
[debug] [2025-10-14T09:07:57.063Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/myboom-ffef4/adminSdkConfig 200
[debug] [2025-10-14T09:07:57.064Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/myboom-ffef4/adminSdkConfig {"projectId":"myboom-ffef4","storageBucket":"myboom-ffef4.firebasestorage.app"}
[info] i  functions: Watching "/Users/macbookair/AndroidStudioProjects/BlinknPay/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/macbookair/AndroidStudioProjects/BlinknPay/functions\" for Cloud Functions..."}}
[debug] [2025-10-14T09:07:57.104Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-10-14T09:07:58.988Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "main": "index.js",
  "engines": {
    "node": "14"
  },
  "scripts": {
    "lint": "eslint .",
    "lint:fix": "eslint . --fix",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "npm run lint && firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "dependencies": {
    "@google-cloud/firestore": "^7.11.6",
    "axios": "^1.12.2",
    "firebase-admin": "^11.10.1",
    "firebase-functions": "^3.24.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2025-10-14T09:07:58.989Z] Building nodejs source
[debug] [2025-10-14T09:07:58.989Z] Failed to find version of module node: reached end of search path /Users/macbookair/AndroidStudioProjects/BlinknPay/functions/node_modules
[info] ✔  functions: Using node@14 from host. 
[debug] [2025-10-14T09:07:58.996Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-10-14T09:07:59.004Z] Found firebase-functions binary at '/Users/macbookair/AndroidStudioProjects/BlinknPay/functions/node_modules/.bin/firebase-functions'
[debug] [2025-10-14T09:07:59.464Z] Serving at port 8430

[debug] [2025-10-14T09:07:59.657Z] ⚡ Running in emulator mode. Connecting Firestore, Database, Storage to local emulators.

[debug] [2025-10-14T09:07:59.810Z] Got response from /__/functions.yaml {"endpoints":{"verifyMerchant":{"platform":"gcfv1","labels":{},"callableTrigger":{},"entryPoint":"verifyMerchant"},"createMpesaPayment":{"platform":"gcfv1","labels":{},"callableTrigger":{},"entryPoint":"createMpesaPayment"},"mpesaCallback":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"mpesaCallback"},"resolveMerchant":{"platform":"gcfv1","labels":{},"callableTrigger":{},"entryPoint":"resolveMerchant"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2025-10-14T09:07:59.854Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: verifyMerchant, createMpesaPayment, mpesaCallback, resolveMerchant. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: verifyMerchant, createMpesaPayment, mpesaCallback, resolveMerchant."}}
[info] ✔  functions[us-central1-verifyMerchant]: http function initialized (http://localhost:5000/myboom-ffef4/us-central1/verifyMerchant). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/myboom-ffef4/us-central1/verifyMerchant)."}}
[info] ✔  functions[us-central1-createMpesaPayment]: http function initialized (http://localhost:5000/myboom-ffef4/us-central1/createMpesaPayment). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/myboom-ffef4/us-central1/createMpesaPayment)."}}
[info] ✔  functions[us-central1-mpesaCallback]: http function initialized (http://localhost:5000/myboom-ffef4/us-central1/mpesaCallback). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/myboom-ffef4/us-central1/mpesaCallback)."}}
[info] ✔  functions[us-central1-resolveMerchant]: http function initialized (http://localhost:5000/myboom-ffef4/us-central1/resolveMerchant). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/myboom-ffef4/us-central1/resolveMerchant)."}}
